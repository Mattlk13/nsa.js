<!DOCTYPE html>
<html>
    <head>
        <title>NSA Code Word Generator</title>
        <link href='//fonts.googleapis.com/css?family=Russo+One' rel='stylesheet' type='text/css'>
        <script src="nsa.js"></script>
        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <style type="text/css">
            .align {height:100px; line-height:100px; text-align:center;}
            h1 { font-size: 500%; font-family: 'Russo One', sans-serif; }
            h2 { font-size: 300%; font-family: sans-serif;}
            p { font-size: 12px; position: absolute; bottom: 0; color: #aaa; }
        </style>
    </head>
    <body>
        <h1 class="align">LOADING...</h1>
        <h2 class="align">Get another!<h2>
        <p>NSA Code Word Generator made by <a href="https://twitter.com/sean_a_cassidy">Sean</a>. Check this out on <a href="https://github.com/cxxr/nsa.js">GitHub</p>

        <script>
        // Don't leak into global scope.
        (function() {

          // Store both requests as jqXHR promises.
          var prefix = $.get('prefixes.txt');
          var suffix = $.get('suffixes.txt');

          // Wait until both promises have resolved.
          $.when(prefix, suffix).then(function(prefix, suffix) {
            var prefixes = prefix[0].split('\n');
            var suffixes = suffix[0].split('\n');

            // Inject into NSA.
            var nsa = new NSA(prefixes, suffixes);

            $("h1").text(nsa.getCodeName());
            $("h2").hover(function() {
              $(this).css('cursor', 'pointer');
            }, function() {
              $(this).css('cursor', 'default');
            }); 

            $("h2").click(function() {
              $("h1").text(nsa.getCodeName());
            });
          });

        })();
        </script>
    </body>
</html>
